#summary Java MATLAB Interface (JMI) allows Java to interact with MATLAB

= Introduction =

The code available on this website relies upon the Java MATLAB Interface. This interface is entirely undocumented and not publicly acknowledged by The Mathworks.

= History =
JMI has been distributed with each version of MATLAB since at least MATLAB 6.1 (`R12.1`) and possibly as far back as MATLAB 6.0 (`R12`) when Java was first integrated into MATLAB. In February of 2002 Peter Webb published an article entitled "Integrating Java Components into MATLAB" in the News and Notes section of the Newsletters published by The Mathworks. Additionally, he posted the ImageBrowser code discussed in his article on the website.

The article has since been removed for the website, the <a href="http://www.mathworks.com/company/newsletters/news_notes/win02/patterns.html">page</a> is now a dead end. However, a copy of the article is <a href="http://bbs.matwav.com/viewthread.php?tid=71482">available on zfhit's blog</a>. The <a href="http://www.mathworks.com/nnimagebrowser">page with the code</a> states that "The file you are trying to view is not in a published state." I am unaware of any existing mirrors of this example code. However, a <a href="http://webscripts.softpedia.com/scriptScreenshots/Matlab-ImageBrowser-Screenshots-37200.html">screen shot</a> can be seen. The Mathworks has never since posted any information regarding JMI, although a <a href="http://www.mathworks.com/matlabcentral/newsreader/search_results?dur=all&page=1&search_string=tag%3Ajmi">few posts</a> relating to JMI are available on MATLAB Central which is part of The Mathworks website.

= What is the interface code? =

This interface comes in the form of a jar file called jmi.jar with MATLAB. It is found at /java/jar/jmi.jar in the MATLAB directory on your computer. For instance, on OS X with `MATLAB R2009b` it is located at /Applications/MATLAB_R2009b.app/java/jar/jmi.jar. What this jar contains depends exactly on what version of MATLAB you have. `MATLAB R2009b` for OS X's jmi.jar contains a number of packages:
  * `com.mathworks.jmi`
  * `com.mathworks.jmi.bean`
  * `com.mathworks.jmi.bean.resources`
  * `com.mathworks.jmi.mdt`
  * `com.mathworks.jmi.resources`
  * `com.mathworks.jmi.types`
  * `com.mathworks.jmi.types.resources`
  * `com.mathworks.jmi.util`

The only class matlabcontrol uses is `com.mathworks.jmi.Matlab`, as well as the interface `com.mathworks.jmi.CompletionObserver`. While not used in this API, `com.mathworks.jmi.MatlabPath` may also be of interest. It involves changes to the MATLAB path; incorporating its features will be considered for future releases.

The methods and fields of the `Matlab` class can easily be viewed by using MATLAB. To list all of the method names of the class in MATLAB's Command Window type `methods com.mathworks.jmi.Matlab`. This will list all of the method names, but it won't provide any other important information. To see more detailed information, instead type `methodsview com.mathworks.jmi.Matlab`. To see the fields (also known as member or instance variables) type `fieldnames(com.mathworks.jmi.Matlab)`.

There are a great number of methods and fields. matlabcontrol only uses a small number of those methods and none of the fields. `matlab.MatlabController` which is part of matlabcontrol is the only class that calls `com.mathworks.jmi.Matlab`'s methods. The methods it calls are:
  * `public static void whenMatlabReady(Runnable toRun)`

  * `public void evalConsoleOutput(String command)`
  * `public void evalConsoleOutput(String command, com.mathworks.jmi.CompletionObserver observer)`
  * `public Object fevalConsoleOutput(String functionName, Object[] args, int returnCount,  com.mathworks.jmi.CompletionObserver observer)`

  * `public static Object mtEval(String command, int returnCount)`
  * `public static Object mtFeval(String functionName, Object[] args, int returnCount)`

  * `public static void setEchoEval(boolean echo)`